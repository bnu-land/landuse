{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "notice_Manage",
        "designer|userClassName": "notice_Manage",
        "height": 588,
        "id": null,
        "layout": "fit",
        "title": "内容管理",
        "width": 866
    },
    "name": "notice_Browse1",
    "designerId": "016d89f6-bf4a-496d-a725-979bfe9fb19e",
    "viewControllerInstanceId": "9eb34fd3-4fb5-4e4b-9689-f6376c95656f",
    "viewModelInstanceId": "e96037fd-3eed-475c-a739-df68e0f1c665",
    "cn": [
        {
            "type": "Ext.tab.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "activeTab": 0
            },
            "name": "MyTabPanel",
            "designerId": "ba80c15c-7eae-45db-9fe2-d18f117f2382",
            "cn": [
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout": "fit",
                        "title": "已发布"
                    },
                    "name": "MyPanel",
                    "designerId": "e13086c2-f832-416f-88f9-b2dd39f6fed4",
                    "cn": [
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "TabConfig",
                            "designerId": "cb344fbb-bf78-4547-b32c-b2847bb3c958"
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "id": "notice_NewsManageGrid",
                                "store": "notice_newsStore",
                                "title": null
                            },
                            "name": "MyGridPanel1",
                            "designerId": "b34c6257-6618-4282-8f68-1a313ac98936",
                            "cn": [
                                {
                                    "type": "Ext.grid.column.RowNumberer",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "name": "MyRowNumberer1",
                                    "designerId": "cdac0858-9212-4eab-a29a-d9ca02572f14"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "noticeColumn",
                                        "text": "所属栏目",
                                        "width": 120
                                    },
                                    "name": "MyColumn",
                                    "designerId": "5aa69aad-5d00-4e9c-8095-9ca89d4f7436"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "noticeTitle",
                                        "text": "标题",
                                        "width": 250
                                    },
                                    "name": "MyColumn6",
                                    "designerId": "e5abd8b8-9526-4a96-835a-2dc1fe7dedfa"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "noticeAuthor",
                                        "text": "作者"
                                    },
                                    "name": "MyColumn7",
                                    "designerId": "6ad17986-41fd-498c-9781-5edddfe3fb01"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "publishDate",
                                        "format": "Y-m-d",
                                        "text": "发表时间",
                                        "width": 100
                                    },
                                    "name": "MyDateColumn",
                                    "designerId": "011f2218-c4d5-43ed-be28-70158715910a"
                                },
                                {
                                    "type": "Ext.grid.column.Date",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "editDate",
                                        "format": "Y-m-d",
                                        "text": "最近修改",
                                        "width": 100
                                    },
                                    "name": "MyDateColumn1",
                                    "designerId": "e37bfa10-551b-4ba4-b61f-f6cbe6af418e"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "attachment",
                                        "text": "附件"
                                    },
                                    "name": "MyActionColumn",
                                    "designerId": "7c235351-2b33-4e6b-85d4-7915926d1d59"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "description",
                                        "text": "备注",
                                        "width": 200
                                    },
                                    "name": "MyColumn5",
                                    "designerId": "aa4b7c1b-dc9a-4373-a105-857840e14729"
                                },
                                {
                                    "type": "Ext.grid.View",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyGridView1",
                                    "designerId": "551a5a62-cdf1-4455-adda-5af8635bd7fa"
                                },
                                {
                                    "type": "Ext.toolbar.Toolbar",
                                    "reference": {
                                        "name": "dockedItems",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dock": "top"
                                    },
                                    "name": "MyToolbar1",
                                    "designerId": "e8fc4955-06c1-46fd-9ec8-5df89aafd255",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Text",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fieldLabel": null,
                                                "id": "noticeNews_SearchText",
                                                "layout|flex": null
                                            },
                                            "name": "MyTextField",
                                            "designerId": "bbef72d2-f795-4185-9a09-12474cc1acfc"
                                        },
                                        {
                                            "type": "Ext.button.Button",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "images/table/search.png",
                                                "layout|flex": null,
                                                "text": "查询"
                                            },
                                            "name": "MyButton",
                                            "designerId": "c982e8af-1438-465f-8e0f-71af201861e2",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var searchKeyword = Ext.getCmp('noticeNews_SearchText').getValue();",
                                                            "var mystore = Ext.StoreMgr.get('notice_newsStore'); //获得store对象",
                                                            "//在load事件中添加参数",
                                                            "mystore.load({",
                                                            "    params :{searchKeyword : searchKeyword}",
                                                            "});"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "cd7d53c5-63bf-40c3-82eb-4849f94d1f3c"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.button.Button",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "images/table/preview.png",
                                                "layout|flex": null,
                                                "text": "预览"
                                            },
                                            "name": "MyButton4",
                                            "designerId": "d0440dc3-0a1d-48e9-9d38-f6e9289d5164"
                                        },
                                        {
                                            "type": "Ext.toolbar.Separator",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "layout|flex": null
                                            },
                                            "name": "MySeparator",
                                            "designerId": "52b877e3-25d9-416a-9683-a35f5dceb287"
                                        },
                                        {
                                            "type": "Ext.button.Button",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "images/table/add.png",
                                                "layout|flex": null,
                                                "text": "添加"
                                            },
                                            "name": "MyButton1",
                                            "designerId": "c6ca6f2f-87fe-4dfe-9829-c874281929c6",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "var xtype = 'notice_Publish';",
                                                            "var mainView = Ext.getCmp('mainView');",
                                                            "mainView.removeAll();",
                                                            "mainView.add(Ext.widget(xtype));"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "3576bc14-0f9a-4d7f-aba4-ae682373c8b9"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.button.Button",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "images/table/edit.png",
                                                "layout|flex": null,
                                                "text": "修改"
                                            },
                                            "name": "MyButton2",
                                            "designerId": "131b1b60-5b1c-4e94-ac1e-d75e639c2ec7",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "//获取数据",
                                                            "var records = Ext.getCmp('notice_NewsManageGrid').getSelection();",
                                                            "if (records.length === 0){",
                                                            "    Ext.Msg.alert('提示', '请选择一条数据后再修改信息。');",
                                                            "    return;",
                                                            "} else if(records.length >1){",
                                                            "    Ext.Msg.alert('提示', '每次只能修改一条信息，请重新选择。');",
                                                            "    return;",
                                                            "}",
                                                            "//启动窗口",
                                                            "var xtype = 'notice_Publish';",
                                                            "var mainView = Ext.getCmp('mainView');",
                                                            "mainView.removeAll();",
                                                            "mainView.add(Ext.widget(xtype));",
                                                            "",
                                                            "//改变Ajax url",
                                                            "var form = Ext.getCmp('notice_PublishForm').getForm();",
                                                            "form.loadRecord(records[0]);",
                                                            "form.url = 'update_NoticeNews';"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "f3fb1494-3a98-4636-879e-bcba746c527a"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.button.Button",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "icon": "images/table/delete.png",
                                                "layout|flex": null,
                                                "text": "删除"
                                            },
                                            "name": "MyButton3",
                                            "designerId": "45d7701b-b630-4a09-a191-cf924d00456e",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "fn": "handler",
                                                        "implHandler": [
                                                            "//获取数据",
                                                            "var records = Ext.getCmp('notice_NewsManageGrid').getSelection();",
                                                            "if (records.length === 0){",
                                                            "   Ext.Msg.alert('提示', '请选择一条数据后再点击删除按钮。');",
                                                            "   return;",
                                                            "}else if(records.length >1){",
                                                            "   Ext.Msg.alert('提示', '每次只能删除一条文章。');",
                                                            "   return;",
                                                            "}",
                                                            "var id = records[0].get(\"id\");",
                                                            "var columnName= records[0].get(\"noticeTitle\");",
                                                            "Ext.Msg.confirm('提示', '您正在删除<br/>[' +columnName+']。<br/> 确认删除？', getResult);",
                                                            "",
                                                            "",
                                                            "function getResult(confirm)",
                                                            "{",
                                                            "    console.log('confirm:', confirm);",
                                                            "    if (confirm == \"yes\"){",
                                                            "        Ext.Ajax.request(",
                                                            "        {",
                                                            "            url : 'del_NoticeNews',",
                                                            "            params :",
                                                            "            {",
                                                            "                id : id",
                                                            "            },",
                                                            "            success : function (response){",
                                                            "                Ext.Msg.alert('成功提示', '记录删除成功。');",
                                                            "                var mystore = Ext.StoreMgr.get('notice_newsStore');",
                                                            "                mystore.load();",
                                                            "            },",
                                                            "            failure : function (response){",
                                                            "                Ext.Msg.alert('失败提示', '记录删除失败。');",
                                                            "            }",
                                                            "        });",
                                                            "    }",
                                                            "}"
                                                        ]
                                                    },
                                                    "name": "handler",
                                                    "designerId": "3ac14a64-bcde-46f0-8ff1-0f35cf00efad"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.selection.CheckboxModel",
                                    "reference": {
                                        "name": "selModel",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyCheckboxSelectionModel",
                                    "designerId": "cd42e677-e071-405a-aba7-2274f0e8a9f6"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "title": "草稿箱"
                    },
                    "name": "MyPanel1",
                    "designerId": "8acc2c4b-7b12-49d7-b43e-b184fc4a62ce",
                    "cn": [
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "TabConfig1",
                            "designerId": "ce9d4c6a-3a98-466c-9c21-a84d25dc8c40"
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "title": "已删除"
                    },
                    "name": "MyPanel2",
                    "designerId": "e86bc556-463c-4668-95ef-19e882b30886",
                    "cn": [
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "TabConfig2",
                            "designerId": "1d4cc764-de64-419c-ab95-b2f8667a5dee"
                        }
                    ]
                }
            ]
        }
    ]
}