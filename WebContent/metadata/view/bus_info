{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "bus_info",
        "designer|userClassName": "bus_info",
        "height": 485,
        "id": "buss_info",
        "layout": "border",
        "title": "数据填报状态",
        "width": 530
    },
    "name": "MyPanel17",
    "designerId": "d6714fe3-3ecd-440f-aea5-b2c08cfdcc6e",
    "viewControllerInstanceId": "0db3173d-df76-444f-9803-d1eb1f527645",
    "viewModelInstanceId": "39f67da0-b4b6-49f0-8747-54aa05246946",
    "cn": [
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|snapToGrid": 10,
                "layout": "absolute",
                "layout|region": "center",
                "title": "企业信息列表"
            },
            "name": "MyPanel18",
            "designerId": "02bdf933-0ff3-4776-82a2-04f9e47dcebf",
            "cn": [
                {
                    "type": "Ext.toolbar.Toolbar",
                    "reference": {
                        "name": "dockedItems",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dock": "top",
                        "layout|x": 0,
                        "layout|y": 140
                    },
                    "name": "MyToolbar2",
                    "designerId": "cb0b2c34-e3dd-4f97-b862-2f76d43c76d1",
                    "cn": [
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "",
                                "layout|flex": null
                            },
                            "name": "MyTextField7",
                            "designerId": "38b1e261-e167-45e4-8542-5e213802c775"
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout|flex": null,
                                "text": "搜索"
                            },
                            "name": "MyButton7",
                            "designerId": "fd76d340-734f-4589-ae45-aeabcba7416d"
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout|flex": null,
                                "text": "新增"
                            },
                            "name": "MyButton8",
                            "designerId": "e1df78ba-ba1d-4b7c-ac6c-365dec00891f",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|params": [
                                            "button",
                                            "e"
                                        ],
                                        "fn": "handler",
                                        "implHandler": [
                                            "// //var xtype = 'law_Import';",
                                            "// var mainView = Ext.getCmp('mywindow');",
                                            "// mainView.removeAll();",
                                            "// mainView.add(Ext.widget('mywindow'));",
                                            "var win = Ext.widget('mywindow');",
                                            "console.log(win);",
                                            "win.show();"
                                        ]
                                    },
                                    "name": "handler",
                                    "designerId": "ef218ec5-b714-438c-b644-bb0c36c0830b"
                                }
                            ]
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout|flex": null,
                                "text": "清除"
                            },
                            "name": "MyButton9",
                            "designerId": "89a46673-a5d0-4881-91af-bc5ba9bcdefc",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|params": [
                                            "button",
                                            "e"
                                        ],
                                        "fn": "handler",
                                        "implHandler": [
                                            "var grid = Ext.getCmp('bus1_info');",
                                            "var records = grid.getSelection();",
                                            "if (records.length === 0) {",
                                            "    Ext.Msg.alert('提示', '请选择一条数据后再点击删除按钮。');",
                                            "    return;",
                                            "} else if (records.length > 1) {",
                                            "    Ext.Msg.alert('提示', '每次只能 一条信息。');",
                                            "    return;",
                                            "}",
                                            "var record = records[0];",
                                            "",
                                            "Ext.Msg.confirm('您正在删除', '企业：' + record.get('businessName') + '，企业编号为：'+record.get('businessId')+'，<br/> 确认删除？', getResult);",
                                            "function getResult(confirm)",
                                            "{",
                                            "    console.log('confirm:', confirm);",
                                            "    if (confirm == \"yes\"){",
                                            "        var businessId = record.get(\"businessId\");",
                                            "        console.log('businessId:',businessId);",
                                            "        Ext.Ajax.request(",
                                            "        {",
                                            "            url : 'del_info',",
                                            "            params :",
                                            "            {",
                                            "                businessId : businessId",
                                            "            },",
                                            "            success : function (response){",
                                            "                Ext.Msg.alert('成功提示', '记录删除成功。');",
                                            "                //successResult();",
                                            "                var mystore = Ext.StoreMgr.get('bussinessinformation');",
                                            "                mystore.load();",
                                            "            },",
                                            "            failure : function (response){",
                                            "                //failedResult();",
                                            "                // Ext.Msg.alert('失败提示', '记录删除失败。');",
                                            "            }",
                                            "        });",
                                            "    }",
                                            "}"
                                        ]
                                    },
                                    "name": "handler",
                                    "designerId": "159a54b2-8fd0-4871-b874-6981ff1210c0"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.grid.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "height": 220,
                        "id": "bus1_info",
                        "layout|x": null,
                        "layout|y": null,
                        "store": "bussinessinformation",
                        "title": "",
                        "width": 531
                    },
                    "name": "MyGridPanel3",
                    "designerId": "5dc47d7a-edc4-45f8-a1c0-ea51f2827faf",
                    "cn": [
                        {
                            "type": "Ext.grid.column.RowNumberer",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "",
                                "text": "序号"
                            },
                            "name": "MyRowNumberer6",
                            "designerId": "45da5f05-17db-4eb7-b013-5675db4cf760"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "businessId",
                                "text": "企业代码"
                            },
                            "name": "MyColumn18",
                            "designerId": "91be3977-845d-4e66-9b65-0ab2c57b618f"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "businessName",
                                "text": "企业名称"
                            },
                            "name": "MyColumn3",
                            "designerId": "bedfaf27-b521-4612-b827-3f4a875af478"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "businessAddress",
                                "text": "企业地址"
                            },
                            "name": "MyColumn4",
                            "designerId": "1b2854e7-3e29-4752-9a9d-6bd9a3e7f95d"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "businessWorker",
                                "text": "企业人数"
                            },
                            "name": "MyColumn15",
                            "designerId": "bf43ddec-57b6-4770-9cd7-072f8ad492fc"
                        },
                        {
                            "type": "Ext.grid.View",
                            "reference": {
                                "name": "viewConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyGridView3",
                            "designerId": "a3a16666-c9ff-4a29-8a52-a1d2c6f80622"
                        },
                        {
                            "type": "Ext.selection.CheckboxModel",
                            "reference": {
                                "name": "selModel",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyCheckboxSelectionModel1",
                            "designerId": "88f9065d-ecd2-4253-b7c9-61f4c9b72195"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "height": 150,
                "layout|region": "north",
                "title": ""
            },
            "name": "MyPanel16",
            "designerId": "a9e2d317-b683-4ba4-afe2-17da7f927257"
        }
    ]
}