{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "system_RightManage",
        "designer|userClassName": "system_RightManage",
        "height": 588,
        "id": null,
        "layout": "fit",
        "title": "系统权限管理",
        "width": 786
    },
    "name": "system_DepartmentManage1",
    "designerId": "0c0e09b9-bccb-4e79-adbc-9a865d66f5ee",
    "viewControllerInstanceId": "566fb89c-bdfd-4e9e-90d5-5deafb58059f",
    "viewModelInstanceId": "4c7d1560-57f8-40be-a38b-722030d42c56",
    "cn": [
        {
            "type": "Ext.tab.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "name": "MyTabPanel",
            "designerId": "5f2eadb8-8487-4948-8bf9-563c0e3d8006",
            "cn": [
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout": "fit",
                        "title": "角色信息管理"
                    },
                    "name": "MyPanel29",
                    "designerId": "3e0e871b-92b1-4378-8511-199057ec398a",
                    "cn": [
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "TabConfig1",
                            "designerId": "4ad1d769-1895-4149-84eb-ff9ab1101be8"
                        },
                        {
                            "type": "Ext.toolbar.Toolbar",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dock": "top"
                            },
                            "name": "MyToolbar30",
                            "designerId": "8ff96b1e-fce8-4d68-8fe8-939ac7eea977",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "请输入搜索关键字",
                                        "fieldLabel": null,
                                        "id": "searchKeyword_roleInfo",
                                        "layout|flex": null
                                    },
                                    "name": "MyTextField127",
                                    "designerId": "ab7899ae-eb3d-4375-835c-a761d4e83d61"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "images/table/search.png",
                                        "layout|flex": null,
                                        "text": "搜索"
                                    },
                                    "name": "MyButton115",
                                    "designerId": "e4c0c983-3888-49d6-bd23-7519ec25eff8",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick3",
                                                "implHandler": [
                                                    "var getKeyword = Ext.getCmp('searchKeyword_roleInfo').getValue();\r",
                                                    "console.log(\"keyword:\",getKeyword);\r",
                                                    "var mystore = Ext.StoreMgr.get('uRoleInfoStore'); //获得store对象\r",
                                                    "//在load事件中添加参数\r",
                                                    "mystore.load({\r",
                                                    "    params :\r",
                                                    "    {\r",
                                                    "        searchKeyword : getKeyword,\r",
                                                    "        enabled:\"true\"\r",
                                                    "    }\r",
                                                    "});"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "name": "onButtonClick3",
                                            "designerId": "ba36975d-a956-4b44-905e-921d5603f3c1"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "images/table/refresh.png",
                                        "layout|flex": null,
                                        "text": "刷新"
                                    },
                                    "name": "MyButton116",
                                    "designerId": "e7512311-2ff6-42ac-a785-9b269ee86705",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick11",
                                                "implHandler": [
                                                    "Ext.getCmp('searchKeyword_roleInfo').setValue('');\r",
                                                    "var mystore = Ext.StoreMgr.get('uRoleInfoStore'); //获得store对象\r",
                                                    "mystore.load();\r",
                                                    ""
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "name": "onButtonClick11",
                                            "designerId": "959051b4-d904-4f90-b98c-968c2ea5511c"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "images/table/add.png",
                                        "layout|flex": null,
                                        "text": "添加角色"
                                    },
                                    "name": "MyButton117",
                                    "designerId": "ef7f10d3-cdca-4f76-ad09-8bf34b4f8b11",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick21",
                                                "implHandler": [
                                                    "var win = Ext.widget('db_RoleInfoAddWindow');\r",
                                                    "win.show();\r",
                                                    ""
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "name": "onButtonClick21",
                                            "designerId": "1b74c6e5-c207-4049-a412-6808802aa37d"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "images/table/edit.png",
                                        "layout|flex": null,
                                        "text": "编辑角色"
                                    },
                                    "name": "MyButton2",
                                    "designerId": "42bc1522-6d01-448e-8ecd-ea27d668dd11",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick212",
                                                "implHandler": [
                                                    "",
                                                    "",
                                                    "//获取数据",
                                                    "var records = Ext.getCmp('system_roleManageGrid').getSelection();",
                                                    "if (records.length === 0){",
                                                    "    Ext.Msg.alert('提示', '请选择一条数据后再修改信息。');",
                                                    "    return;",
                                                    "} else if(records.length >1){",
                                                    "    Ext.Msg.alert('提示', '每次只能修改一条信息，请重新选择。');",
                                                    "    return;",
                                                    "}",
                                                    "//启动窗口",
                                                    "var win = Ext.widget('db_RoleInfoEditWindow');",
                                                    "win.show();",
                                                    "",
                                                    "//改变Ajax url",
                                                    "var form = Ext.getCmp('db_RoleInfoEditWindowForm').getForm();",
                                                    "form.loadRecord(records[0]);",
                                                    "",
                                                    ""
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "name": "onButtonClick212",
                                            "designerId": "dcf5ac4e-a8f2-416d-b1ed-e6c7338486e2"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "images/table/delete2.png",
                                        "layout|flex": null,
                                        "text": "删除角色"
                                    },
                                    "name": "MyButton3",
                                    "designerId": "5491ef4a-1b5d-4178-bfba-21ebdc8f5dbb",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick2121",
                                                "implHandler": [
                                                    "var grid = Ext.getCmp('system_roleManageGrid');",
                                                    "var records = grid.getSelection();",
                                                    "if (records.length === 0) {",
                                                    "    Ext.Msg.alert('提示', '请选择一条数据后再点击删除按钮。');",
                                                    "    return;",
                                                    "} else if (records.length > 1) {",
                                                    "    Ext.Msg.alert('提示', '每次只能 一条信息。');",
                                                    "    return;",
                                                    "}",
                                                    "var record = records[0];",
                                                    "",
                                                    "Ext.Msg.confirm('您正在删除', '角色：' + record.get('roleNameCn') + '，角色类别为：'+record.get('roleName')+'，<br/> 确认删除？', getResult);",
                                                    "function getResult(confirm)",
                                                    "{",
                                                    "    if (confirm == \"yes\"){",
                                                    "        var roleId = record.get(\"roleId\");",
                                                    "        Ext.Ajax.request(",
                                                    "        {",
                                                    "            url : 'del_RoleInfoById',",
                                                    "            params :",
                                                    "            {",
                                                    "                roleId : roleId",
                                                    "            },",
                                                    "            success : function (response){",
                                                    "                Ext.Msg.alert('成功提示', '记录删除成功。');",
                                                    "                var mystore = Ext.StoreMgr.get('uRoleInfoStore');",
                                                    "                mystore.load();",
                                                    "            },",
                                                    "            failure : function (response){",
                                                    "                Ext.Msg.alert('失败提示', '记录删除失败。');",
                                                    "            }",
                                                    "        });",
                                                    "    }",
                                                    "}"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "name": "onButtonClick2121",
                                            "designerId": "40287981-4a67-410b-8a91-6db922394014"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.toolbar.Separator",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": null
                                    },
                                    "name": "MySeparator",
                                    "designerId": "1f63e1dc-4c38-4043-ac12-8374c25aad4f"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "images/table/add.png",
                                        "layout|flex": null,
                                        "text": "角色权限设置"
                                    },
                                    "name": "MyButton4",
                                    "designerId": "8eb0c8c0-dc47-42f5-9aea-4df4fb8b1273",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick21211",
                                                "implHandler": [
                                                    "var win = Ext.widget('db_RoleRightSettingWindow');",
                                                    "",
                                                    "var grid = Ext.getCmp('system_roleManageGrid');",
                                                    "var records = grid.getSelection();",
                                                    "if (records.length === 0) {",
                                                    "    Ext.Msg.alert('提示', '请选择一个角色进行权限设置。');",
                                                    "    return;",
                                                    "} else if (records.length > 1) {",
                                                    "    Ext.Msg.alert('提示', '每次只能设置一个角色。');",
                                                    "    return;",
                                                    "}",
                                                    "var record = records[0];",
                                                    "",
                                                    "win.show();",
                                                    "",
                                                    "var roleNameCnField = Ext.getCmp('db_roleRightSet_RoleField');",
                                                    "if (roleNameCnField) {",
                                                    "    roleNameCnField.setValue(record.get('roleNameCn'));",
                                                    "}",
                                                    "var roleNameField = Ext.getCmp('db_roleRightSet_RoleNameField');",
                                                    "if (roleNameField) {",
                                                    "    roleNameField.setValue(record.get('roleName'));",
                                                    "}",
                                                    "var roleId = record.get('roleId');",
                                                    "var roleIdField = Ext.getCmp('db_roleRightSet_RoleIdField');",
                                                    "if (roleIdField) {",
                                                    "    roleIdField.setValue(roleId);",
                                                    "}",
                                                    "",
                                                    "if (roleId) {",
                                                    "    var rightGrid = Ext.getCmp('db_roleRightSettingGrid');",
                                                    "    var gridSore = rightGrid.getStore();",
                                                    "    var store = Ext.StoreMgr.get('uRightInfoCurUserStore'); //获得store对象",
                                                    "    //在load事件中添加参数",
                                                    "    store.load({",
                                                    "        params: { 'roleId': roleId },",
                                                    "        callback: function(records, operation, success) {",
                                                    "            for (var re in records) {",
                                                    "                var recorded = records[re]; //权限record",
                                                    "                if (recorded) {",
                                                    "                    var rightid = recorded.get('rightId');",
                                                    "                    if (rightid) {",
                                                    "                        var recordTo = gridSore.queryRecords('rightId', rightid);",
                                                    "                        if (recordTo && recordTo.length > 0) {",
                                                    "                            var index = gridSore.indexOf(recordTo[0]);",
                                                    "                            console.log(\"index:\", index);",
                                                    "                            if (index >= 0) {",
                                                    "                                rightGrid.getSelectionModel().select(index, true, true);",
                                                    "                            }",
                                                    "                        }",
                                                    "                    }",
                                                    "                }",
                                                    "            }",
                                                    "",
                                                    "",
                                                    "            console.log(\"records:\", records);",
                                                    "            //rightGrid.getSelectionModel().select(records,true,true);",
                                                    "            //rightGrid.getSelectionModel().selectAll(true);",
                                                    "        }",
                                                    "    });",
                                                    "}",
                                                    ""
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "name": "onButtonClick21211",
                                            "designerId": "cbee0883-4d6b-4af2-a979-1a7ebc08eb2d"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "id": "system_roleManageGrid",
                                "store": "uRoleInfoStore",
                                "title": null
                            },
                            "name": "MyGridPanel24",
                            "designerId": "4dce6d12-9ed7-4621-9bbf-b0e1182a95d6",
                            "cn": [
                                {
                                    "type": "Ext.grid.column.RowNumberer",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "序号",
                                        "text": "序号",
                                        "width": 40
                                    },
                                    "name": "MyRowNumberer18",
                                    "designerId": "3028f517-2576-4ec7-9a7b-ea0b1d943a91"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "roleNameCn",
                                        "text": "角色名称",
                                        "width": 120
                                    },
                                    "name": "MyColumn135",
                                    "designerId": "21114578-7cbe-4efd-af58-c437f5feff2c"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "roleName",
                                        "text": "角色标识",
                                        "width": 150
                                    },
                                    "name": "MyColumn136",
                                    "designerId": "d23e58ed-0a23-4dba-a326-b32c79fc87b4"
                                },
                                {
                                    "type": "Ext.grid.column.Boolean",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "enabled",
                                        "falseText": "否",
                                        "text": "是否启用",
                                        "trueText": "是",
                                        "width": 60
                                    },
                                    "name": "MyBooleanColumn5",
                                    "designerId": "72adeb71-0070-4128-83ee-207f868ca499"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "description",
                                        "text": "描述",
                                        "width": 400
                                    },
                                    "name": "MyColumn137",
                                    "designerId": "77d78333-00db-4f1a-b158-947626e402eb"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "date",
                                        "designer|displayName": "编辑",
                                        "emptyCellText": null,
                                        "icon": "images/table/edit.png",
                                        "menuText": "",
                                        "width": 50
                                    },
                                    "name": "MyActionColumn3",
                                    "designerId": "e29cc6a8-2e68-4da9-947d-c7576b291664",
                                    "cn": [
                                        {
                                            "type": "basicfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "grid",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "actionItem",
                                                    "event",
                                                    "record",
                                                    "row"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "if (colIndex === undefined || colIndex < 2) {\r",
                                                    "    return;\r",
                                                    "}\r",
                                                    "var win = Ext.widget('db_RoleInfoWindow');\r",
                                                    "win.show();\r",
                                                    "\r",
                                                    "var form = Ext.getCmp('db_RoleInfoWindowForm').getForm();\r",
                                                    "form.loadRecord(record);\r",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "2c68c89d-cdde-4088-b017-a3b77f568dc5"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "date",
                                        "designer|displayName": "删除",
                                        "icon": "images/table/delete.png",
                                        "width": 50
                                    },
                                    "name": "MyActionColumn4",
                                    "designerId": "acbf10cc-4fa2-4b37-8893-924e4e2333d6",
                                    "cn": [
                                        {
                                            "type": "basicfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "grid",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "actionItem",
                                                    "event",
                                                    "record",
                                                    "row"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "Ext.Msg.confirm('您正在删除', '角色：' + record.get('roleNameCn') + '，角色代码为：'+record.get('roleName')+'，<br/> 确认删除？', getResult);\r",
                                                    "function getResult(confirm)\r",
                                                    "{\r",
                                                    "    console.log('confirm:', confirm);\r",
                                                    "    if (confirm == \"yes\"){\r",
                                                    "        var roleId = record.get(\"roleId\");\r",
                                                    "        Ext.Ajax.request(\r",
                                                    "        {\r",
                                                    "            url : 'del_RoleInfoById',\r",
                                                    "            params :\r",
                                                    "            {\r",
                                                    "                roleId : roleId\r",
                                                    "            },\r",
                                                    "            success : function (response){\r",
                                                    "                Ext.Msg.alert('成功提示', '角色删除成功。');                \r",
                                                    "                var mystore = Ext.StoreMgr.get('uRoleInfoStore');\r",
                                                    "                mystore.load();\r",
                                                    "            },\r",
                                                    "            failure : function (response){\r",
                                                    "                \r",
                                                    "            }\r",
                                                    "        });\r",
                                                    "    }\r",
                                                    "}"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "f0eb9e5a-190f-4bfe-ad7b-9d22ccd7f0f0"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.View",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyGridView24",
                                    "designerId": "cceb15da-66b1-4e62-9b47-0bceed572273"
                                },
                                {
                                    "type": "Ext.selection.CheckboxModel",
                                    "reference": {
                                        "name": "selModel",
                                        "type": "object"
                                    },
                                    "codeClass": "Ext.selection.CheckboxModel",
                                    "userConfig": {
                                        "designer|displayName": null
                                    },
                                    "name": "MyCheckboxSelectionModel17",
                                    "designerId": "4fd92818-68f8-4a3d-8b07-29169f50b052"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "autoScroll": true,
                        "layout": "fit",
                        "title": "权限信息管理"
                    },
                    "name": "MyPanel30",
                    "designerId": "c558563b-3704-4449-8f56-327d92f8ab79",
                    "cn": [
                        {
                            "type": "Ext.tab.Tab",
                            "reference": {
                                "name": "tabConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "TabConfig2",
                            "designerId": "2bd7f3fa-c191-473d-bc79-8235a9472ec0"
                        },
                        {
                            "type": "Ext.toolbar.Toolbar",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dock": "top"
                            },
                            "name": "MyToolbar31",
                            "designerId": "5668ca30-6a3d-44db-8fcc-3451b8136e2b",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "请输入搜索关键字",
                                        "fieldLabel": null,
                                        "id": "searchKeyword_RightInfo",
                                        "layout|flex": null
                                    },
                                    "name": "MyTextField128",
                                    "designerId": "d7fc59b8-7cee-4103-aeda-c8bf2d73e0f8"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "images/table/search.png",
                                        "layout|flex": null,
                                        "text": "搜索"
                                    },
                                    "name": "MyButton118",
                                    "designerId": "e860eb4a-4b24-4df2-a1ff-9988f451a33d",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick31",
                                                "implHandler": [
                                                    "var getKeyword = Ext.getCmp('searchKeyword_RightInfo').getValue();\r",
                                                    "//console.log(\"keyword:\",getKeyword);\r",
                                                    "var mystore = Ext.StoreMgr.get('uRightInfoStore'); //获得store对象\r",
                                                    "//在load事件中添加参数\r",
                                                    "mystore.load({\r",
                                                    "    params :{\r",
                                                    "        searchKeyword : getKeyword,\r",
                                                    "        limit:'300'\r",
                                                    "    }\r",
                                                    "});\r",
                                                    ""
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "name": "onButtonClick31",
                                            "designerId": "12efd19d-bf24-4066-b348-7a1fcf2704d7"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "images/table/refresh.png",
                                        "layout|flex": null,
                                        "text": "刷新"
                                    },
                                    "name": "MyButton119",
                                    "designerId": "0fae2535-c43f-4c11-a7bf-a717614c3e87",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick111",
                                                "implHandler": [
                                                    "Ext.getCmp('searchKeyword_RightInfo').setValue('');\r",
                                                    "var mystore = Ext.StoreMgr.get('uRightInfoStore'); //获得store对象\r",
                                                    "mystore.load();\r",
                                                    ""
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "name": "onButtonClick111",
                                            "designerId": "9c9ff6cb-c0b6-4886-893e-867c2f336a80"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "images/table/add.png",
                                        "layout|flex": null,
                                        "text": "添加权限"
                                    },
                                    "name": "MyButton120",
                                    "designerId": "7672c04d-b5f8-4602-ad2c-ec6fb925d679",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick211",
                                                "implHandler": [
                                                    "//取得上一级部门id",
                                                    "var grid = Ext.getCmp('rightInfoGrid');",
                                                    "var record = grid.getSelectionModel().getSelection();",
                                                    "if(record.length === 0){",
                                                    "    Ext.MessageBox.confirm('提示','添加新的权限需要先指定上一级权限，如果您没有在列表中勾选上一级权限，</br>那么您添加的权限为最高级别。确定添加？', function(btn){",
                                                    "        if(btn == \"yes\"){",
                                                    "            doShowWin(0);",
                                                    "        }",
                                                    "    });",
                                                    "    return;",
                                                    "",
                                                    "}else{",
                                                    "    doShowWin(1);",
                                                    "}",
                                                    "",
                                                    "function doShowWin(level){",
                                                    "    console.log('level:',level);",
                                                    "    var win = Ext.widget('db_RightInfoAddWindow');",
                                                    "    win.show();",
                                                    "",
                                                    "    var rightIdField = Ext.getCmp('wAdd_parentRightId');",
                                                    "    var rightNameField = Ext.getCmp('wAdd_parentRightName');",
                                                    "    //对显示的内容进行处理",
                                                    "    switch(level){",
                                                    "        case 0:\t//如果没有上级部门",
                                                    "            rightIdField.setValue(\"0000000000\");\t//如果没有上一级部门，则设为0",
                                                    "            rightNameField.disable();",
                                                    "            break;",
                                                    "        case 1:\t//如果有上级部门",
                                                    "            var  rightId = record[0].get(\"rightId\");\t//取得上级部门id",
                                                    "            rightIdField.setValue(rightId);",
                                                    "            //对部门名称进行处理",
                                                    "            var rightName = record[0].get(\"rightName\");\t//取得上级部门名称",
                                                    "",
                                                    "            var index = rightName.lastIndexOf(\"&nbsp;\");",
                                                    "            if(index >= 0){",
                                                    "                var substr = rightName.substring(index+6,rightName.length);",
                                                    "                rightNameField.setValue(substr);",
                                                    "            }else{",
                                                    "                rightNameField.setValue(rightName);",
                                                    "            }",
                                                    "            break;",
                                                    "    }",
                                                    "",
                                                    "}"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "name": "onButtonClick211",
                                            "designerId": "2b88a55b-f2b2-4adc-9117-cf5586d22e11"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "autoScroll": true,
                                "id": "rightInfoGrid",
                                "store": "uRightInfoStore",
                                "title": null
                            },
                            "name": "MyGridPanel25",
                            "designerId": "866a2818-2c59-4fa1-a5c6-e1b7fe33e882",
                            "cn": [
                                {
                                    "type": "Ext.grid.column.RowNumberer",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "序号",
                                        "text": "序号",
                                        "width": 40
                                    },
                                    "name": "MyRowNumberer19",
                                    "designerId": "5594509b-acf5-44cf-b97d-21368ba64286"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "rightName",
                                        "text": "权限名称",
                                        "width": 300
                                    },
                                    "name": "MyColumn138",
                                    "designerId": "4d249eee-43eb-4688-b50c-f014312f07f3"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "rightId",
                                        "text": "权限编号"
                                    },
                                    "name": "MyColumn139",
                                    "designerId": "b1e81315-ce1e-4e4c-b0e0-5f3e17e5dbd4"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "url",
                                        "text": "权限地址",
                                        "width": 150
                                    },
                                    "name": "MyColumn140",
                                    "designerId": "b7126866-59a8-4306-84cb-06c985484fa9"
                                },
                                {
                                    "type": "Ext.grid.column.Boolean",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "enabled",
                                        "falseText": "否",
                                        "text": "是否启用",
                                        "trueText": "是",
                                        "width": 60
                                    },
                                    "name": "MyBooleanColumn6",
                                    "designerId": "a685e1e6-56d4-4ccf-acbc-f7e1cd3c5af4"
                                },
                                {
                                    "type": "Ext.grid.column.Column",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "description",
                                        "text": "描述",
                                        "width": 400
                                    },
                                    "name": "MyColumn141",
                                    "designerId": "701b40a4-ce3a-4b25-9f33-a49cc214274b"
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "date",
                                        "designer|displayName": "编辑",
                                        "emptyCellText": null,
                                        "icon": "images/table/edit.png",
                                        "menuText": "",
                                        "width": 50
                                    },
                                    "name": "MyActionColumn5",
                                    "designerId": "bcae676a-2695-45f4-a44a-25f341643503",
                                    "cn": [
                                        {
                                            "type": "basicfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "grid",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "actionItem",
                                                    "event",
                                                    "record",
                                                    "row"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "if (colIndex === undefined || colIndex < 2) {\r",
                                                    "    return;\r",
                                                    "}\r",
                                                    "var win = Ext.widget('db_RightInfoWindow');\r",
                                                    "win.show();\r",
                                                    "\r",
                                                    "var form = Ext.getCmp('db_RightInfoWindowForm');\r",
                                                    "form.loadRecord(record);\r",
                                                    "\r",
                                                    "//对显示的内容进行处理\r",
                                                    "//对权限名称进行处理\r",
                                                    "var rightNameField = Ext.getCmp('w_rightName');\r",
                                                    "var value = rightNameField.getValue();\r",
                                                    "var index = value.lastIndexOf(\"&nbsp;\");\r",
                                                    "console.log(index);\r",
                                                    "if(index>=0){\r",
                                                    "    var substr = value.substring(index+6,value.length);\r",
                                                    "    rightNameField.setValue(substr);\r",
                                                    "}"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "08705ba7-d325-4707-b684-028ceab55b93"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Action",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "dataIndex": "date",
                                        "designer|displayName": "删除",
                                        "icon": "images/table/delete.png",
                                        "width": 50
                                    },
                                    "name": "MyActionColumn6",
                                    "designerId": "d7a68b4e-0a91-4f07-9dd2-10a7084c1ab0",
                                    "cn": [
                                        {
                                            "type": "basicfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "grid",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "actionItem",
                                                    "event",
                                                    "record",
                                                    "row"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "//去除权限名称的空格",
                                                    "var rightName = record.get('rightName');",
                                                    "var index = rightName.lastIndexOf(\"&nbsp;\");",
                                                    "var substr;",
                                                    "if(index>=0){",
                                                    "    substr = rightName.substring(index+6,rightName.length);",
                                                    "}",
                                                    "Ext.Msg.confirm('您正在删除', '权限：\"' + substr + '\"，<br/> 确认删除？', getResult);",
                                                    "",
                                                    "function getResult(confirm)",
                                                    "{",
                                                    "    console.log('confirm:', confirm);",
                                                    "    if (confirm == \"yes\"){",
                                                    "        var rightId = record.get(\"rightId\");",
                                                    "        Ext.Ajax.request(",
                                                    "        {",
                                                    "            url : 'del_RightInfoById',",
                                                    "            params :",
                                                    "            {",
                                                    "                rightId : rightId",
                                                    "            },",
                                                    "            success : function (response){",
                                                    "                Ext.Msg.alert('成功提示', '权限删除成功。');",
                                                    "                //successResult();",
                                                    "                var mystore = Ext.StoreMgr.get('uRightInfoStore');",
                                                    "                mystore.load();",
                                                    "            },",
                                                    "            failure : function (response){",
                                                    "                //failedResult();",
                                                    "                // Ext.Msg.alert('失败提示', '记录删除失败。');",
                                                    "            }",
                                                    "        });",
                                                    "    }",
                                                    "}"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "a63f67ca-5125-453d-a7f9-a72d1eb4b136"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.View",
                                    "reference": {
                                        "name": "viewConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyGridView25",
                                    "designerId": "a79baec1-a8d1-4184-a02f-f5f7da72567c"
                                },
                                {
                                    "type": "Ext.selection.CheckboxModel",
                                    "reference": {
                                        "name": "selModel",
                                        "type": "object"
                                    },
                                    "codeClass": "Ext.selection.CheckboxModel",
                                    "userConfig": {
                                        "designer|displayName": null
                                    },
                                    "name": "MyCheckboxSelectionModel18",
                                    "designerId": "2b791d0b-7f42-47b1-99b0-a838b4b66deb"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}